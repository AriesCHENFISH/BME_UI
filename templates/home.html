<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
	<link href='https://unpkg.com/boxicons@2.1.4/dist/boxicons.js' rel='stylesheet'>

	<!-- My CSS -->
	<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

	<title>乳腺肿瘤诊断系统-工作区</title>
</head>
<body>
	<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">
			<img src="{{ url_for('static', filename='image/LOGO.png') }}" style="width: 40px; margin-top: 10px;">
			<span class="text" style="font-size: large;">乳腺肿瘤诊断系统</span>
		</a>
		<ul class="side-menu top">
            <li >
              <a href="#" data-target="instructions">
                <i class='bx bx-help-circle bx-sm'></i>
                <span class="text">使用指南</span>
              </a>
            </li>
            <li>
              <a href="#" data-target="patient-info">
                <i class='bx bxs-id-card bx-sm'></i>
                <span class="text">患者信息</span>
              </a>
            </li>
            <li>
              <a href="#" data-target="workbenchs">
                <i class='bx bxs-category-alt bx-sm'></i>
                <span class="text">工作台</span>
              </a>
            </li>
            <li>
              <a href="#" data-target="case-history">
                <i class='bx bx-history bx-sm'></i>
                <span class="text">历史病例</span>
              </a>
            </li>
            
          </ul>
          
	
	</section>
	<!-- SIDEBAR -->



	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
<nav>
    <i class='bx bx-menu bx-sm' ></i>
    <a href="#" class="nav-link"></a>
    <form action="#">
        <div class="form-input">
            <input type="search" placeholder="搜索...">
            <button type="submit" class="search-btn"><i class='bx bx-search' ></i></button>
        </div>
    </form>
    <input type="checkbox" class="checkbox" id="switch-mode" hidden />
    <label class="swith-lm" for="switch-mode">
        <i class="bx bxs-moon"></i>
        <i class="bx bx-sun"></i>
        <div class="ball"></div>
    </label>

    <!-- Notification Bell -->
    <!-- Notification Bell -->
    <a href="#" class="notification" id="notificationIcon">
        
    </a>

    <div class="notification-menu" id="notificationMenu">
        <ul>
            <li>
                Case '20250329_2' download successful!
                <br />
                <button class="view-btn" onclick="viewFile('20250329_2')">viewFile</button>
            </li>
            <li>
                Case '20250329_1' download successful!
                <br />
                <button class="view-btn" onclick="viewFile('20250329_1')">viewFile</button>
            </li>
            <li>
                Case '20250328_1' download successful!
                <br />
                <button class="view-btn" onclick="viewFile('20250328_1')">viewFile</button>
            </li>
            
        </ul>
    </div>


    <!-- Profile Menu -->
    <a href="#" class="profile" id="profileIcon">
        
    </a>
    <div class="profile-menu" id="profileMenu">
        <ul>
            <li><a href="#">My Doctor Profile</a></li>
            <li><a href="#">Settings</a></li>
            <li><a href="#">Log Out</a></li>
        </ul>
    </div>
</nav>
<!-- NAVBAR -->


		<!-- MAIN -->
		<main>
            <div id="instructions" class="content-section" style="display: none;">
              <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

                <div class="head-title">
                    <div class="left">
                        <h1>使用指南</h1>
                        
                    </div>
                    <a href="{{ url_for('static', filename='README.pdf') }}" class="btn-download" download>
                        <i class='bx bxs-cloud-download bx-fade-down-hover'></i>
                        <span class="text">获取 README</span>
                    </a>
                    
                </div>

                <ul class="box-info">
                    <div class="container mt-4">
                    <div class="card mb-4">
                      <div class="card-header bg-primary text-white">
                        ✅ 第一步：上传图像（推荐使用本地文件夹批量上传）
                      </div>
                      <div class="card-body">
                        <ul>
                          <li><strong>支持类型：</strong>B-mode 图像（PNG/JPG） 和 CEUS 图像序列（PNG/JPG）</li>
                          <li><strong>推荐方式：</strong><span class="text-success">直接选择本地文件夹上传图像序列（速度最快）</span></li>
                          <li><strong>支持多图上传：</strong> 支持文件夹拖拽上传</li>
                          <li><strong>图像建议分辨率：</strong>400×600</li>
                          <li><strong>注意事项：</strong> 请确保文件名不包含患者隐私信息（匿名处理）</li>
                          <li><strong>温馨提示：</strong> 系统支持自动加载历史图像（ZIP），但 <span class="text-danger">本地上传依然最快</span></li>
                        </ul>
                      </div>
                    </div>

                    <div class="card mb-4">
                      <div class="card-header bg-success text-white">
                        🤖 第二步：运行 AI 分析
                      </div>
                      <div class="card-body">
                        <ul>
                          <li><strong>点击：</strong><span class="badge bg-info text-dark">开始分析</span> 按钮，立即启动模型推理</li>
                          <li><strong>模型功能：</strong>
                            <ul>
                              <li>肿瘤区域分割（B-mode + CEUS）</li>
                              <li>良/恶性分类（深度特征融合）</li>
                              <li>灌注分析参数（峰值、时间-强度曲线）</li>
                            </ul>
                          </li>
                          <li><strong>分析耗时：</strong>约 5 秒 / 病例</li>
                          <li><strong>结果输出：</strong> 分割图、预测分类实时显示</li>
                        </ul>
                      </div>
                    </div>

                    <div class="card mb-4">
                      <div class="card-header bg-warning text-dark">
                        📝 第三步：生成诊断报告
                      </div>
                      <div class="card-body">
                        <ul>
                          <li><strong>一键导出：</strong>结构化诊断报告（PDF / JSON 可选）</li>
                          <li><strong>报告内容包含：</strong>
                            <ul>
                              <li>原始图像与 AI 标注结果</li>
                              <li>肿瘤属性、分类结果、分析摘要</li>
                              <li>病例编号、时间戳、医生建议</li>
                            </ul>
                          </li>
                          <li><strong>自动归档：</strong>支持历史查询与导出</li>
                          <li><strong>安全共享：</strong>可上传至 HIS / PACS / 邮件发送</li>
                          <li><strong>可配置模板：</strong>支持个性化医院/机构设置</li>
                        </ul>
                      </div>
                    </div>
                  </div>

                </ul>
            </div>

            <div id="patient-info" class="content-section" style="display: none;">
              <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
                <div class="head-title">
                    <div class="left">
                      <h1>患者信息</h1>
                      
                    </div>
                  </div>
                  
                  <form action="#" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 60px; margin-top: 50px;">
                    <!-- Full Name -->
                    <div>
                      <label style="color:rgb(0, 140, 255);">姓名</label>
                      <div class="form-input">
                        <input type="text" placeholder="例如：王小红" required />
                      </div>
                      <small style="color:rgb(99, 101, 103);">必填项</small>
                    </div>
                  
                    <!-- Gender -->
                    <div>
                        <label style="color:rgb(0, 140, 255);">性别</label>
                        <div class="form-input">
                          <select style="
                            height: 36px;
                            width: 100%;
                            padding: 0 16px;
                            border: none;
                            background-color: transparent;
                            appearance: none;
                            -webkit-appearance: none;
                            -moz-appearance: none;
                            color: var(--dark);
                            font-size: 14px;
                            font-family: var(--poppins);
                            cursor: pointer;
                          ">
                            <option disabled selected hidden style="color:rgb(99, 101, 103)">选择性别</option>
                            <option value="女">女</option>
                            <option value="男">男</option>
                            <option value="其它">其它</option>
                          </select>
                        </div>
                        <small style="color:rgb(99, 101, 103);">必填项</small>
                      </div>
                      
                  
                    <!-- Date of Birth -->
                    <div>
                      <label style="color:rgb(0, 140, 255);">出生日期</label>
                      <div class="form-input">
                        <input type="text" id="birthdate" placeholder="请选择出生日期" required />
                      </div>
                      <small style="color:rgb(99, 101, 103);">格式：YYYY-MM-DD</small>
                    </div>

                    <div>
                      <label style="color:rgb(0, 140, 255);">编号</label>
                      <div class="form-input">
                        <input type="text" placeholder="例如：14XXX" />
                      </div>
                      <small style="color:rgb(99, 101, 103);">请填写5位编号</small>
                    </div>
                  
                    <!-- ID Number -->
                    <div>
                      <label style="color:rgb(0, 140, 255);">身份证号</label>
                      <div class="form-input">
                        <input type="text" placeholder="例如：3411XXXXXXXXXXXXXX" />
                      </div>
                      <small style="color:rgb(99, 101, 103);">请填写18位身份证号</small>
                    </div>
                  
                    <!-- Phone Number -->
                    <div>
                      <label style="color:rgb(0, 140, 255);">联系方式</label>
                      <div class="form-input">
                        <input type="tel" placeholder="例如： +86 1XX XXXX XXXX" />
                      </div>
                      <small style="color:rgb(99, 101, 103);">必填项</small>
                    </div>
                  
                    <!-- Email -->
                    <div>
                      <label style="color:rgb(0, 140, 255);">邮箱地址</label>
                      <div class="form-input">
                        <input type="email" placeholder="例如： user@example.com" />
                      </div>
                      <small style="color:rgb(99, 101, 103);">选填</small>
                    </div>

                    <!-- Upload File -->
                    <div>
                        <label style="color:rgb(0, 140, 255);">上传患者b-mode图像</label>
                        <div class="form-input">
                          <input type="file" id="fileUpload" accept=".png,.jpg" style="display: none;" />
                          
                          <label for="fileUpload" style="
                            width: 100%;
                            display: inline-flex;
                            align-items: center;
                            gap: 8px;
                            padding: 8px 20px;
                            background-color: none;
                            color: black;
                            border-radius: 36px;
                            cursor: pointer;
                            font-size: 14px;
                            font-family: 'Poppins', sans-serif;
                          ">
                            <i class='bx bx-upload'></i>
                            Upload
                          </label>
                        </div>
                        <small style="color:rgb(99, 101, 103);">仅限.jpg/.png格式</small>
                      </div>
                      
                  
                    <!-- Clear Button -->
                    <div style="align-self: end;">
                      
                    </div>
                  </form>
                  
                  <!-- Action Buttons -->
                  <div style="margin-top: 20px; display: flex; gap: 20px;">
                    
                    <button class="view-btn" style="background-color: var(--blue);" onclick="submitPatient()">提交</button>

                    <button type="reset" class="view-btn" style="background-color: var(--red);">清除</button>
                  </div>

                  <hr style="margin-top: 40px;">
                    <h2 style="margin-top: 20px;">最近患者</h2>
                    <div id="recentPatients" style="margin-top: 16px; display: flex; flex-direction: column; gap: 12px;"></div>


                  
              </div>
              <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
              <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/zh.js"></script>
              <script>
                flatpickr("#birthdate", {
                  dateFormat: "Y-m-d",
                  locale: "zh" // 关键：设置中文
                });
              </script>

            </div>

            
                <!-- Workbench Section -->
            <div id="workbenchs" class="content-section">
                <link rel="stylesheet" href="{{ url_for('static', filename='style2.css') }}">
                
                <div class="app">
                <!-- Sidebar -->
                <aside id="sidebar1" class="sidebar1">
                    <h2>Patient Info</h2>
                    <h2>患者信息</h2>
                    <p><strong>姓名:</strong> <span id="patientName"></span></p>
                    <p><strong>编号:</strong> <span id="patientID"></span></p>
                    <p><strong>身份证号:</strong> <span id="patientCard"></span></p>
                    <p><strong>性别:</strong> <span id="patientGender"></span></p>
                    <p><strong>年龄:</strong> <span id="patientAge"></span></p>
                    <p><strong>联系方式:</strong> <span id="patientPhone"></span></p>
                    <p><strong>邮箱:</strong> <span id="patientEmail"></span></p>



                    <button onclick="toggleSidebar()" class="toggle-btn">隐藏患者信息</button>
                  </aside>
            
                <!-- Main Content -->
                <main>
                    

                    <div class="head-title">
                        

                        <div class="left">
                            
                            <h1>
                                工作台
                            </h1>
                        
                            
                        </div>
                        <div style="margin-bottom: 24px; display: flex; gap: 16px; align-items: center;">
                        <input type="text" id="patientInputID" placeholder="患者编号" style="padding: 10px; border: 1px solid #ccc; border-radius: 8px;" />
                        <input type="text" id="patientInputCard" placeholder="患者ID" style="padding: 10px; border: 1px solid #ccc; border-radius: 8px;" />
                        <button onclick="loadPatientData()" style="padding: 10px 16px; background: #062958; color: white; border: none; border-radius: 8px;">加载患者数据</button>
                        <button style="padding: 10px 16px; background: #062958; color: white; border: none; border-radius: 8px;" onclick="toggleSidebar()"><i class='bx bxs-user-detail' style='color:#ffffff' ></i>显示患者信息</button>
                        </div>
                        
                    </div>
                    <div style="display: flex; justify-content: space-between; gap: 24px;">
                        <!-- Upload Section -->
                        <section class="card" style="flex: 1; display: flex; flex-direction: column; gap: 16px;">
                            <!-- Combined Upload Controls (Side-by-side) -->
                            <div style="display: flex; gap: 24px; background: #F9F9F9; padding: 20px; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 24px;">
                        
                                <!-- B-mode Upload -->
                                <div style="flex: 1;">
                                    <label style="font-weight: 600; font-size: 16px; display: block; margin-bottom: 10px;">更新B-mode影像</label>
                                    <input type="file" id="bmodeInput" accept="image/jpeg, image/png" style="display: none;" onchange="handleBmodeUpload(event)" />
                                    <button class="upload-btn" style="width: 100%; padding: 10px; font-size: 16px; background: #3C91E6; color: white; border: none; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;" onclick="document.getElementById('bmodeInput').click();">
                                        <i class='bx bx-upload'></i> 上传 b-mode 影像
                                    </button>
                                    <small style="display: block; margin-top: 8px; color: #555;">格式: JPG / PNG &nbsp; | &nbsp; 最大尺寸: 10MB</small>
                                </div>
                        
                                <!-- CEUS Upload -->
                                <div style="flex: 1;">
                                    <label style="font-weight: 600; font-size: 16px; display: block; margin-bottom: 10px;">更新CEUS影像</label>
                                    <!-- <input type="file" id="ceusInput" accept="video/mp4" style="display: none;" onchange="handleCeusUpload(event)" /> -->
                                    <input type="file" id="ceusInput" accept="image/*" webkitdirectory directory multiple onchange="handleCeusUpload(event)" style="display: none;"/>

                                    <button class="upload-btn" style="width: 100%; padding: 10px; font-size: 16px; background: #3C91E6; color: white; border: none; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;" onclick="document.getElementById('ceusInput').click();">
                                        <i class='bx bx-upload'></i> 上传 CEUS 影像
                                    </button>
                                    <small style="display: block; margin-top: 8px; color: #555;">格式: 含有60帧图像的文件夹 &nbsp; | &nbsp; 每张: JPG / PNG &nbsp; | &nbsp; 总共 ≈ 10MB</small>

                                </div>
                        
                            </div>
                        
                            <label>上传进度</label>
                            <div class="progress" style="width: 100%; background-color: #ddd; border-radius: 8px; height: 10px; overflow: hidden; margin: 8px 0 20px; position: relative;">
                                <div class="bar" id="uploadProgress" style="height: 100%; width: 0%; background-color: #3C91E6; transition: width 0.3s ease;"></div>
                                <div id="progressPercentage" style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-weight: bold; color: #3C91E6; pointer-events: none; font-size: 12px;">0%</div>
                            </div>
                        
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                                <div>
                                    <label>B-mode预览</label>
                                    <img id="bmodePreview" src="{{ url_for('static', filename='image/preview1.png') }}" alt="B-mode Preview" style="max-width: 100%; border-radius: 10px; border: 1px solid #eee;" />
                                </div>
                        
                                <div>
                                    <label>CEUS预览</label>
                                    <img id="ceusPreview" src="{{ url_for('static', filename='image/preview2.png') }}" alt="CEUS Preview" style="max-width: 100%; border-radius: 10px; border: 1px solid #eee;" />
                                </div>
                            </div>
                            <small>📁 <em>注： 由于输入 CEUS 是视频序列数据，因此仅将第一帧作为预览图像</em></small>
                            <!-- 下载报告按钮 -->
                    <button id="downloadReportBtn" style="margin-top: 20px; padding: 10px 20px; background-color: #052042; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        下载诊断报告
                    </button>
                        
                        </section>
                        
                        <section class="card" style="flex: 1; display: flex; flex-direction: column; gap: 16px;">
                            <button class="analyze-btn" style="width: 100%; padding: 10px; font-size: 16px; background: #941919; color: white; border: none; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;" onclick="startAnalysis()">
                                <i class='bx bxs-caret-right-circle bx-sm' style='color:#ffffff'></i> 开始分析
                            </button>
                            
                            <label>分析进度</label>
                            <div class="progress" style="width: 100%; background-color: #ddd; border-radius: 8px; height: 10px; overflow: hidden; margin: 8px 0 20px;">
                                <div class="bar green" id="analysisProgress" style="height: 100%; width: 0%; background-color: #3CB371; transition: width 0.3s ease;"></div>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; gap: 16px; background-color: #000; border-radius: 6px; padding: 20px;">
                                <!-- B-mode Mask Output -->
                                <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                    <label style="color:#ffffff; margin-bottom: 8px;">B-mode分割结果</label>
                                    <div class="image-container" style="display: flex; justify-content: center; width: 100%;">
                                        <img id="backgroundImage" src="{{ url_for('static', filename='image/result1.png') }}" alt="Background Image" style="max-width: 80%; border-radius: 10px; border: 1px solid #eee; margin-bottom: 16px;" />
                                    </div>
                                    <small style="color:#ffffff"><i class='bx bxs-key'></i> 调整掩码透明度</small>
                                    <input type="range" id="opacityRange" min="0" max="100" value="0" style="width: 80%; margin-top: 8px;" oninput="updateOpacity()" />
                                </div>
                            
                                <!-- CEUS Mask Output -->
                                <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                    <label style="color:#ffffff; margin-bottom: 8px;">CEUS分割结果</label>
                                    <div class="image-container" style="display: flex; justify-content: center; width: 100%;">
                                        <img id="backgroundImageCEUS" src="{{ url_for('static', filename='image/result2.png') }}" alt="Background Image" style="max-width: 80%; border-radius: 10px; border: 1px solid #eee; margin-bottom: 16px;" />
                                    </div>
                                    <small style="color:#ffffff"><i class='bx bxs-key'></i> 调整掩码透明度</small>
                                    <input type="range" id="opacityRangeCEUS" min="0" max="100" value="0" style="width: 80%; margin-top: 8px;" oninput="updateOpacityCEUS()" />
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 24px; background: #F9F9F9; padding: 20px; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 24px;">

                                <!-- B-mode Download -->
                                <div style="flex: 1;">
                                <label style="font-weight: 600; font-size: 16px; display: block; margin-bottom: 10px;">下载B-mode掩码</label>
                                <button class="download-btn" onclick="downloadBmodeResult()" style="width: 100%; padding: 10px; font-size: 16px; background: #3C91E6; color: white; border: none; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;">
                                    <i class='bx bx-download'></i> 下载 b-mode 掩码
                                </button>
                                
                                </div>
                            
                                <!-- CEUS Download -->
                                <div style="flex: 1;">
                                <label style="font-weight: 600; font-size: 16px; display: block; margin-bottom: 10px;">下载CEUS掩码</label>
                                <button class="download-btn" onclick="downloadCeusResult()" style="width: 100%; padding: 10px; font-size: 16px; background: #3C91E6; color: white; border: none; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;">
                                    <i class='bx bx-download'></i> 下载 CEUS 掩码
                                </button>
                                
                                </div>
                            
                            </div>
                        </section>
                    </div>

                    
  

                    <!-- Tabs Info -->
                    <section class="card">
                        <div class="tabs">
                        <button class="tab active" onclick="showTab('diagnosis')">诊断结果</button>
                        
                        </div>

                        <div class="tab-content" id="diagnosis">
                        <p><strong>病灶属性:</strong><td><span class="status completed" style="background-color: #1133ae;color: #ddd;">待诊断</span></td></p>
                        
                        
                        </div>
                    
                        <div class="tab-content" id="bmode"  style="display: none;">
                        <p><strong>Resolution:</strong> 400 x 600</p>
                        <p><strong>Format:</strong> PNG</p>
                        <p><strong>Scan Depth:</strong> 5 cm</p>
                        <p><strong>Focus Zones:</strong> 2</p>
                        <p><strong>Gain:</strong> 45%</p>
                        <p><strong>TI (Thermal Index):</strong> 0.3</p>
                        <p><strong>MI (Mechanical Index):</strong> 0.8</p>
                        <p><strong>Artifacts:</strong> None Detected</p>
                        </div>
                    
                        <div class="tab-content" id="ceus" style="display: none;">
                        <p><strong>Frames:</strong> 100</p>
                        <p><strong>Duration:</strong> 12.3s</p>
                        <p><strong>Peak Intensity:</strong> 83.1</p>
                        <p><strong>Arrival Time:</strong> 2.8s</p>
                        <p><strong>Time to Peak:</strong> 4.2s</p>
                        <p><strong>Washout Start:</strong> 8.7s</p>
                        <p><strong>Average Slope:</strong> 1.9</p>
                        <p><strong>Contrast Agent:</strong> SonoVue</p>
                        </div>
                    
                        <div class="tab-content" id="tumor" style="display: none;">
                        <p><strong>Location:</strong> Upper outer quadrant</p>
                        <p><strong>Size:</strong> 14.2 mm</p>
                        <p><strong>Area:</strong> 147 mm²</p>
                        <p><strong>Shape:</strong> Irregular</p>
                        <p><strong>Margins:</strong> Spiculated</p>
                        <p><strong>Vascularity:</strong> Moderate</p>
                        <p><strong>Contrast Enhancement:</strong> Heterogeneous</p>
                        <p><strong>Lesion Depth:</strong> 2.1 cm</p>
                        </div>
                    
                        
                    </section>
                    <section>
                    <p><strong>医生建议:</strong></p>
                        <textarea id="doctorAdvice" rows="4" style="width: 100%; border-radius: 6px; padding: 8px; resize: vertical;"></textarea>
                        <button id="saveAdviceBtn" style="margin-top: 8px;margin-bottom: 10px; background-color:  #052042; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer;">保存</button>
                    </section>
  
        
                <!-- Terminal -->
                <div class="text-right">
                    
                    <button style="padding: 10px; font-size: 16px; background: #001f26; color: #00ff88; border: none; border-radius: 36px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;" onclick="toggleTerminal()"><i class='bx bxs-terminal' style='color:#00ff88' ></i>显示/隐藏终端</button>
                </div>
                <section class="card terminal" id="terminal" style="background: #001f26; color: #00ff88; border-radius: 12px; font-family: monospace; padding: 20px; font-size: 14px; max-height: 300px; overflow-y: auto; box-shadow: inset 0 0 8px #000;">
                    <div id="terminalOutput" style="white-space: pre-wrap; text-align: left;">
                > 运作过程将展现在此... ✓
            
                    </div>
                    <div style="display: flex; align-items: center; margin-top: 10px;">
                    <i class='bx bx-terminal' style="color: #00ff88; margin-right: 8px;"></i>
                    <input id="terminalInput" type="text" placeholder="Type a command... (e.g., help)" onkeydown="handleTerminalInput(event)" style="flex-grow: 1; background: #002b36; color: #00ff88; border: none; padding: 8px; border-radius: 6px; font-family: monospace; font-size: 14px; outline: none;">
                    </div>
                </section>
                </main>
                </div>
                <script src="{{ url_for('static', filename='scrip.js') }}"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.0/jszip.min.js"></script>

            </div>
            
        </div>



        <div id="case-history" class="content-section" style="display: none;">
            <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
            <div class="head-title">
                <div class="left">
                    <h1>历史记录</h1>
                    
                </div>
                
            </div>
            <div class="table-data">
            <div class="todo">
                <div class="head">
                <h3>病例信息与结果报告</h3>
                <i class='bx bx-refresh icon'></i>
                </div>
                <ul class="todo-list" id="historyList">
                <!-- 动态插入记录 -->
                </ul>
            </div>
            </div>

           
        </div>
            

			
		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->
	
    <script src="{{ url_for('static', filename='home.js') }}"></script>
</body>
</html>