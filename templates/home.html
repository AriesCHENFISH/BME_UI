<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
	<link href='https://unpkg.com/boxicons@2.1.4/dist/boxicons.js' rel='stylesheet'>

	<!-- My CSS -->
	<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

	<title>ä¹³è…ºè‚¿ç˜¤è¯Šæ–­ç³»ç»Ÿ-å·¥ä½œåŒº</title>
</head>
<body>
	<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">
			<img src="{{ url_for('static', filename='image/LOGO.png') }}" style="width: 40px; margin-top: 10px;">
			<span class="text" style="font-size: large;">ä¹³è…ºè‚¿ç˜¤è¯Šæ–­ç³»ç»Ÿ</span>
		</a>
		<ul class="side-menu top">
            <li >
              <a href="#" data-target="instructions">
                <i class='bx bx-help-circle bx-sm'></i>
                <span class="text">ä½¿ç”¨æŒ‡å—</span>
              </a>
            </li>
            <li>
              <a href="#" data-target="patient-info">
                <i class='bx bxs-id-card bx-sm'></i>
                <span class="text">æ‚£è€…ä¿¡æ¯</span>
              </a>
            </li>
            <li class="active">
              <a href="#" data-target="workbenchs">
                <i class='bx bxs-category-alt bx-sm'></i>
                <span class="text">å·¥ä½œå°</span>
              </a>
            </li>
            <li>
              <a href="#" data-target="case-history">
                <i class='bx bx-history bx-sm'></i>
                <span class="text">å†å²ç—…ä¾‹</span>
              </a>
            </li>
            
          </ul>
          
	
	</section>
	<!-- SIDEBAR -->



	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
<nav>
    <i class='bx bx-menu bx-sm' ></i>
    <a href="#" class="nav-link"></a>
    <form action="#">
        <div class="form-input">
            <input type="search" placeholder="æœç´¢...">
            <button type="submit" class="search-btn"><i class='bx bx-search' ></i></button>
        </div>
    </form>
    <input type="checkbox" class="checkbox" id="switch-mode" hidden />
    <label class="swith-lm" for="switch-mode">
        <i class="bx bxs-moon"></i>
        <i class="bx bx-sun"></i>
        <div class="ball"></div>
    </label>

    <!-- Notification Bell -->
    <!-- Notification Bell -->
    <a href="#" class="notification" id="notificationIcon">
        
    </a>

    <div class="notification-menu" id="notificationMenu">
        <ul>
            <li>
                Case '20250329_2' download successful!
                <br />
                <button class="view-btn" onclick="viewFile('20250329_2')">viewFile</button>
            </li>
            <li>
                Case '20250329_1' download successful!
                <br />
                <button class="view-btn" onclick="viewFile('20250329_1')">viewFile</button>
            </li>
            <li>
                Case '20250328_1' download successful!
                <br />
                <button class="view-btn" onclick="viewFile('20250328_1')">viewFile</button>
            </li>
            
        </ul>
    </div>


    <!-- Profile Menu -->
    <a href="#" class="profile" id="profileIcon">
        
    </a>
    <div class="profile-menu" id="profileMenu">
        <ul>
            <li><a href="#">My Doctor Profile</a></li>
            <li><a href="#">Settings</a></li>
            <li><a href="#">Log Out</a></li>
        </ul>
    </div>
</nav>
<!-- NAVBAR -->


		<!-- MAIN -->
		<main>
            <div id="instructions" class="content-section" style="display: none;">
                <div class="head-title">
                    <div class="left">
                        <h1>ä½¿ç”¨æŒ‡å—</h1>
                        
                    </div>
                    <a href="{{ url_for('static', filename='README.pdf') }}" class="btn-download" download>
                        <i class='bx bxs-cloud-download bx-fade-down-hover'></i>
                        <span class="text">Get README</span>
                    </a>
                    
                </div>

                <ul class="box-info">
                    <!-- PART 1 -->
                    <li>
                    <i class='bx bxs-image-add'></i>
                    <span class="text">
                        <h3>Step 1: Upload Images</h3>
                        <p>ğŸ“ <strong>Supported Types:</strong> B-mode images and CEUS video (PNG / JPG / MP4)</p>
                        <p>ğŸ–¼ï¸ You can upload multiple images at once, drag & drop supported.</p>
                        <p>ğŸ“ Please make sure image resolution is <strong>400Ã—600</strong> for best results.</p>
                        <p>ğŸ” Preview images before submission to avoid input mistakes.</p>
                        <p>ğŸ†” File names must be anonymized (no patient info).</p>
                        <p>â±ï¸ CEUS video should be at least <strong>10 seconds</strong> long to capture perfusion.</p>
                        <p>ğŸ“Œ <em>Tip:</em> The system auto-selects key CEUS frames for optimal performance.</p>
                    </span>
                    </li>
                
                    <!-- PART 2 -->
                    <li>
                    <i class='bx bxs-bot'></i>
                    <span class="text">
                        <h3>Step 2: Run AI Inference</h3>
                        <p>ğŸ¤– Click <strong>Run Diagnosis</strong> to launch the model.</p>
                        <p>ğŸ§  The model performs tumor segmentation and classifies lesion as <strong>benign or malignant</strong>.</p>
                        <p>ğŸ©º Extracted features include:</p>
                        <p>ğŸ“ˆ Time-intensity curve</p>
                        <p>ğŸ“Š Peak intensity & time-to-peak</p>
                        <p>ğŸ¯ Tumor center & size</p>
                        <p>âš¡ Inference takes ~5s per case and runs on either local or cloud backend.</p>
                        <p>ğŸ” Results will be visualized immediately after processing completes.</p>
                    </span>
                    </li>
                
                    <!-- PART 3 -->
                    <li>
                    <i class='bx bxs-file-export'></i>
                    <span class="text">
                        <h3>Step 3: Generate Diagnostic Report</h3>
                        <p>ğŸ“‹ All results are compiled into a structured, printable report.</p>
                        <p>ğŸ–¼ï¸ Includes original image with overlay, tumor location, and AI classification.</p>
                        <p>ğŸ“‚ One-click export available in PDF and JSON formats.</p>
                        <p>ğŸ§¾ Each report has a unique case ID and is automatically saved in the case archive.</p>
                        <p>ğŸ” Reports can be securely shared with medical teams or uploaded to patient records.</p>
                        <p>ğŸ› ï¸ <em>Tip:</em> You can customize the report format in the <strong>Settings</strong> panel.</p>
                    </span>
                    </li>
                </ul>
            </div>

            <div id="patient-info" class="content-section" style="display: none;">
                <div class="head-title">
                    <div class="left">
                      <h1>æ‚£è€…ä¿¡æ¯</h1>
                      
                    </div>
                  </div>
                  
                  <form action="#" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 60px; margin-top: 50px;">
                    <!-- Full Name -->
                    <div>
                      <label style="color:rgb(0, 140, 255);">å§“å</label>
                      <div class="form-input">
                        <input type="text" placeholder="ä¾‹å¦‚ï¼šç‹å°çº¢" required />
                      </div>
                      <small style="color:rgb(99, 101, 103);">å¿…å¡«é¡¹</small>
                    </div>
                  
                    <!-- Gender -->
                    <div>
                        <label style="color:rgb(0, 140, 255);">æ€§åˆ«</label>
                        <div class="form-input">
                          <select style="
                            height: 36px;
                            width: 100%;
                            padding: 0 16px;
                            border: none;
                            background-color: transparent;
                            appearance: none;
                            -webkit-appearance: none;
                            -moz-appearance: none;
                            color: var(--dark);
                            font-size: 14px;
                            font-family: var(--poppins);
                            cursor: pointer;
                          ">
                            <option disabled selected hidden style="color:rgb(99, 101, 103)">é€‰æ‹©æ€§åˆ«</option>
                            <option value="å¥³">å¥³</option>
                            <option value="ç”·">ç”·</option>
                            <option value="å…¶å®ƒ">å…¶å®ƒ</option>
                          </select>
                        </div>
                        <small style="color:rgb(99, 101, 103);">å¿…å¡«é¡¹</small>
                      </div>
                      
                  
                    <!-- Date of Birth -->
                    <div>
                      <label style="color:rgb(0, 140, 255);">å‡ºç”Ÿæ—¥æœŸ</label>
                      <div class="form-input">
                        <input type="date" required />
                      </div>
                      <small style="color:rgb(99, 101, 103);">æ ¼å¼ï¼šYYYY-MM-DD</small>
                    </div>

                    <div>
                      <label style="color:rgb(0, 140, 255);">ç¼–å·</label>
                      <div class="form-input">
                        <input type="text" placeholder="ä¾‹å¦‚ï¼š14XXX" />
                      </div>
                      <small style="color:rgb(99, 101, 103);">è¯·å¡«å†™5ä½ç¼–å·</small>
                    </div>
                  
                    <!-- ID Number -->
                    <div>
                      <label style="color:rgb(0, 140, 255);">èº«ä»½è¯å·</label>
                      <div class="form-input">
                        <input type="text" placeholder="ä¾‹å¦‚ï¼š3411XXXXXXXXXXXXXX" />
                      </div>
                      <small style="color:rgb(99, 101, 103);">è¯·å¡«å†™18ä½èº«ä»½è¯å·</small>
                    </div>
                  
                    <!-- Phone Number -->
                    <div>
                      <label style="color:rgb(0, 140, 255);">è”ç³»æ–¹å¼</label>
                      <div class="form-input">
                        <input type="tel" placeholder="ä¾‹å¦‚ï¼š +86 1XX XXXX XXXX" />
                      </div>
                      <small style="color:rgb(99, 101, 103);">å¿…å¡«é¡¹</small>
                    </div>
                  
                    <!-- Email -->
                    <div>
                      <label style="color:rgb(0, 140, 255);">é‚®ç®±åœ°å€</label>
                      <div class="form-input">
                        <input type="email" placeholder="ä¾‹å¦‚ï¼š user@example.com" />
                      </div>
                      <small style="color:rgb(99, 101, 103);">é€‰å¡«</small>
                    </div>

                    <!-- Upload File -->
                    <div>
                        <label style="color:rgb(0, 140, 255);">ä¸Šä¼ æ‚£è€…b-modeå›¾åƒ</label>
                        <div class="form-input">
                          <input type="file" id="fileUpload" accept=".png,.jpg" style="display: none;" />
                          
                          <label for="fileUpload" style="
                            width: 100%;
                            display: inline-flex;
                            align-items: center;
                            gap: 8px;
                            padding: 8px 20px;
                            background-color: none;
                            color: black;
                            border-radius: 36px;
                            cursor: pointer;
                            font-size: 14px;
                            font-family: 'Poppins', sans-serif;
                          ">
                            <i class='bx bx-upload'></i>
                            Upload
                          </label>
                        </div>
                        <small style="color:rgb(99, 101, 103);">ä»…é™.jpg/.pngæ ¼å¼</small>
                      </div>
                      
                  
                    <!-- Clear Button -->
                    <div style="align-self: end;">
                      
                    </div>
                  </form>
                  
                  <!-- Action Buttons -->
                  <div style="margin-top: 20px; display: flex; gap: 20px;">
                    
                    <button class="view-btn" style="background-color: var(--blue);" onclick="submitPatient()">æäº¤</button>

                    <button type="reset" class="view-btn" style="background-color: var(--red);">æ¸…é™¤</button>
                  </div>

                  <hr style="margin-top: 40px;">
                    <h2 style="margin-top: 20px;">æœ€è¿‘æ‚£è€…</h2>
                    <div id="recentPatients" style="margin-top: 16px; display: flex; flex-direction: column; gap: 12px;"></div>


                  
              </div>

            </div>

             

                <!-- Workbench Section -->
            <div id="workbenchs" class="content-section">
                <link rel="stylesheet" href="{{ url_for('static', filename='style2.css') }}">
                <div class="app">
                <!-- Sidebar -->
                <aside id="sidebar1" class="sidebar1">
                    <h2>Patient Info</h2>
                    <h2>æ‚£è€…ä¿¡æ¯</h2>
                    <p><strong>å§“å:</strong> <span id="patientName"></span></p>
                    <p><strong>ç¼–å·:</strong> <span id="patientID"></span></p>
                    <p><strong>èº«ä»½è¯å·:</strong> <span id="patientCard"></span></p>
                    <p><strong>æ€§åˆ«:</strong> <span id="patientGender"></span></p>
                    <p><strong>å¹´é¾„:</strong> <span id="patientAge"></span></p>
                    <p><strong>è”ç³»æ–¹å¼:</strong> <span id="patientPhone"></span></p>
                    <p><strong>é‚®ç®±:</strong> <span id="patientEmail"></span></p>



                    <button onclick="toggleSidebar()" class="toggle-btn">éšè—æ‚£è€…ä¿¡æ¯</button>
                  </aside>
            
                <!-- Main Content -->
                <main>
                    

                    <div class="head-title">
                        

                        <div class="left">
                            
                            <h1>
                                å·¥ä½œå°
                            </h1>
                        
                            
                        </div>
                        <div style="margin-bottom: 24px; display: flex; gap: 16px; align-items: center;">
                        <input type="text" id="patientInputID" placeholder="æ‚£è€…ç¼–å·" style="padding: 10px; border: 1px solid #ccc; border-radius: 8px;" />
                        <input type="text" id="patientInputCard" placeholder="æ‚£è€…ID" style="padding: 10px; border: 1px solid #ccc; border-radius: 8px;" />
                        <button onclick="loadPatientData()" style="padding: 10px 16px; background: #062958; color: white; border: none; border-radius: 8px;">åŠ è½½æ‚£è€…æ•°æ®</button>
                        <button style="padding: 10px 16px; background: #062958; color: white; border: none; border-radius: 8px;" onclick="toggleSidebar()"><i class='bx bxs-user-detail' style='color:#ffffff' ></i>æ˜¾ç¤ºæ‚£è€…ä¿¡æ¯</button>
                        </div>
                        
                    </div>
                    <div style="display: flex; justify-content: space-between; gap: 24px;">
                        <!-- Upload Section -->
                        <section class="card" style="flex: 1; display: flex; flex-direction: column; gap: 16px;">
                            <!-- Combined Upload Controls (Side-by-side) -->
                            <div style="display: flex; gap: 24px; background: #F9F9F9; padding: 20px; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 24px;">
                        
                                <!-- B-mode Upload -->
                                <div style="flex: 1;">
                                    <label style="font-weight: 600; font-size: 16px; display: block; margin-bottom: 10px;">æ›´æ–°B-modeå½±åƒ</label>
                                    <input type="file" id="bmodeInput" accept="image/jpeg, image/png" style="display: none;" onchange="handleBmodeUpload(event)" />
                                    <button class="upload-btn" style="width: 100%; padding: 10px; font-size: 16px; background: #3C91E6; color: white; border: none; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;" onclick="document.getElementById('bmodeInput').click();">
                                        <i class='bx bx-upload'></i> ä¸Šä¼  b-mode å½±åƒ
                                    </button>
                                    <small style="display: block; margin-top: 8px; color: #555;">æ ¼å¼: JPG / PNG &nbsp; | &nbsp; æœ€å¤§å°ºå¯¸: 10MB</small>
                                </div>
                        
                                <!-- CEUS Upload -->
                                <div style="flex: 1;">
                                    <label style="font-weight: 600; font-size: 16px; display: block; margin-bottom: 10px;">æ›´æ–°CEUSå½±åƒ</label>
                                    <!-- <input type="file" id="ceusInput" accept="video/mp4" style="display: none;" onchange="handleCeusUpload(event)" /> -->
                                    <input type="file" id="ceusInput" accept="image/*" webkitdirectory directory multiple onchange="handleCeusUpload(event)" style="display: none;"/>

                                    <button class="upload-btn" style="width: 100%; padding: 10px; font-size: 16px; background: #3C91E6; color: white; border: none; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;" onclick="document.getElementById('ceusInput').click();">
                                        <i class='bx bx-upload'></i> ä¸Šä¼  CEUS å½±åƒ
                                    </button>
                                    <small style="display: block; margin-top: 8px; color: #555;">æ ¼å¼: å«æœ‰60å¸§å›¾åƒçš„æ–‡ä»¶å¤¹ &nbsp; | &nbsp; æ¯å¼ : JPG / PNG &nbsp; | &nbsp; æ€»å…± â‰ˆ 10MB</small>

                                </div>
                        
                            </div>
                        
                            <label>ä¸Šä¼ è¿›åº¦</label>
                            <div class="progress" style="width: 100%; background-color: #ddd; border-radius: 8px; height: 10px; overflow: hidden; margin: 8px 0 20px; position: relative;">
                                <div class="bar" id="uploadProgress" style="height: 100%; width: 0%; background-color: #3C91E6; transition: width 0.3s ease;"></div>
                                <div id="progressPercentage" style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-weight: bold; color: #3C91E6; pointer-events: none; font-size: 12px;">0%</div>
                            </div>
                        
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                                <div>
                                    <label>B-modeé¢„è§ˆ</label>
                                    <img id="bmodePreview" src="{{ url_for('static', filename='image/preview1.png') }}" alt="B-mode Preview" style="max-width: 100%; border-radius: 10px; border: 1px solid #eee;" />
                                </div>
                        
                                <div>
                                    <label>CEUSé¢„è§ˆ</label>
                                    <img id="ceusPreview" src="{{ url_for('static', filename='image/preview2.png') }}" alt="CEUS Preview" style="max-width: 100%; border-radius: 10px; border: 1px solid #eee;" />
                                </div>
                            </div>
                            <small>ğŸ“ <em>æ³¨ï¼š ç”±äºè¾“å…¥ CEUS æ˜¯è§†é¢‘åºåˆ—æ•°æ®ï¼Œå› æ­¤ä»…å°†ç¬¬ä¸€å¸§ä½œä¸ºé¢„è§ˆå›¾åƒ</em></small>
                            <!-- ä¸‹è½½æŠ¥å‘ŠæŒ‰é’® -->
                    <button id="downloadReportBtn" style="margin-top: 20px; padding: 10px 20px; background-color: #052042; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        ä¸‹è½½è¯Šæ–­æŠ¥å‘Š
                    </button>
                        
                        </section>
                        
                        <section class="card" style="flex: 1; display: flex; flex-direction: column; gap: 16px;">
                            <button class="analyze-btn" style="width: 100%; padding: 10px; font-size: 16px; background: #941919; color: white; border: none; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;" onclick="startAnalysis()">
                                <i class='bx bxs-caret-right-circle bx-sm' style='color:#ffffff'></i> å¼€å§‹åˆ†æ
                            </button>
                            
                            <label>åˆ†æè¿›åº¦</label>
                            <div class="progress" style="width: 100%; background-color: #ddd; border-radius: 8px; height: 10px; overflow: hidden; margin: 8px 0 20px;">
                                <div class="bar green" id="analysisProgress" style="height: 100%; width: 0%; background-color: #3CB371; transition: width 0.3s ease;"></div>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; gap: 16px; background-color: #000; border-radius: 6px; padding: 20px;">
                                <!-- B-mode Mask Output -->
                                <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                    <label style="color:#ffffff; margin-bottom: 8px;">B-modeåˆ†å‰²ç»“æœ</label>
                                    <div class="image-container" style="display: flex; justify-content: center; width: 100%;">
                                        <img id="backgroundImage" src="{{ url_for('static', filename='image/result1.png') }}" alt="Background Image" style="max-width: 80%; border-radius: 10px; border: 1px solid #eee; margin-bottom: 16px;" />
                                    </div>
                                    <small style="color:#ffffff"><i class='bx bxs-key'></i> è°ƒæ•´æ©ç é€æ˜åº¦</small>
                                    <input type="range" id="opacityRange" min="0" max="100" value="0" style="width: 80%; margin-top: 8px;" oninput="updateOpacity()" />
                                </div>
                            
                                <!-- CEUS Mask Output -->
                                <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                    <label style="color:#ffffff; margin-bottom: 8px;">CEUSåˆ†å‰²ç»“æœ</label>
                                    <div class="image-container" style="display: flex; justify-content: center; width: 100%;">
                                        <img id="backgroundImageCEUS" src="{{ url_for('static', filename='image/result2.png') }}" alt="Background Image" style="max-width: 80%; border-radius: 10px; border: 1px solid #eee; margin-bottom: 16px;" />
                                    </div>
                                    <small style="color:#ffffff"><i class='bx bxs-key'></i> è°ƒæ•´æ©ç é€æ˜åº¦</small>
                                    <input type="range" id="opacityRangeCEUS" min="0" max="100" value="0" style="width: 80%; margin-top: 8px;" oninput="updateOpacityCEUS()" />
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 24px; background: #F9F9F9; padding: 20px; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 24px;">

                                <!-- B-mode Download -->
                                <div style="flex: 1;">
                                <label style="font-weight: 600; font-size: 16px; display: block; margin-bottom: 10px;">ä¸‹è½½B-modeæ©ç </label>
                                <button class="download-btn" onclick="downloadBmodeResult()" style="width: 100%; padding: 10px; font-size: 16px; background: #3C91E6; color: white; border: none; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;">
                                    <i class='bx bx-download'></i> ä¸‹è½½ b-mode æ©ç 
                                </button>
                                
                                </div>
                            
                                <!-- CEUS Download -->
                                <div style="flex: 1;">
                                <label style="font-weight: 600; font-size: 16px; display: block; margin-bottom: 10px;">ä¸‹è½½CEUSæ©ç </label>
                                <button class="download-btn" onclick="downloadCeusResult()" style="width: 100%; padding: 10px; font-size: 16px; background: #3C91E6; color: white; border: none; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;">
                                    <i class='bx bx-download'></i> ä¸‹è½½ CEUS æ©ç 
                                </button>
                                
                                </div>
                            
                            </div>
                        </section>
                    </div>

                    
  

                    <!-- Tabs Info -->
                    <section class="card">
                        <div class="tabs">
                        <button class="tab active" onclick="showTab('diagnosis')">è¯Šæ–­ç»“æœ</button>
                        
                        </div>

                        <div class="tab-content" id="diagnosis">
                        <p><strong>ç—…ç¶å±æ€§:</strong><td><span class="status completed" style="background-color: #1133ae;color: #ddd;">å¾…è¯Šæ–­</span></td></p>
                        
                        
                        </div>
                    
                        <div class="tab-content" id="bmode"  style="display: none;">
                        <p><strong>Resolution:</strong> 400 x 600</p>
                        <p><strong>Format:</strong> PNG</p>
                        <p><strong>Scan Depth:</strong> 5 cm</p>
                        <p><strong>Focus Zones:</strong> 2</p>
                        <p><strong>Gain:</strong> 45%</p>
                        <p><strong>TI (Thermal Index):</strong> 0.3</p>
                        <p><strong>MI (Mechanical Index):</strong> 0.8</p>
                        <p><strong>Artifacts:</strong> None Detected</p>
                        </div>
                    
                        <div class="tab-content" id="ceus" style="display: none;">
                        <p><strong>Frames:</strong> 100</p>
                        <p><strong>Duration:</strong> 12.3s</p>
                        <p><strong>Peak Intensity:</strong> 83.1</p>
                        <p><strong>Arrival Time:</strong> 2.8s</p>
                        <p><strong>Time to Peak:</strong> 4.2s</p>
                        <p><strong>Washout Start:</strong> 8.7s</p>
                        <p><strong>Average Slope:</strong> 1.9</p>
                        <p><strong>Contrast Agent:</strong> SonoVue</p>
                        </div>
                    
                        <div class="tab-content" id="tumor" style="display: none;">
                        <p><strong>Location:</strong> Upper outer quadrant</p>
                        <p><strong>Size:</strong> 14.2 mm</p>
                        <p><strong>Area:</strong> 147 mmÂ²</p>
                        <p><strong>Shape:</strong> Irregular</p>
                        <p><strong>Margins:</strong> Spiculated</p>
                        <p><strong>Vascularity:</strong> Moderate</p>
                        <p><strong>Contrast Enhancement:</strong> Heterogeneous</p>
                        <p><strong>Lesion Depth:</strong> 2.1 cm</p>
                        </div>
                    
                        
                    </section>
                    <section>
                    <p><strong>åŒ»ç”Ÿå»ºè®®:</strong></p>
                        <textarea id="doctorAdvice" rows="4" style="width: 100%; border-radius: 6px; padding: 8px; resize: vertical;"></textarea>
                        <button id="saveAdviceBtn" style="margin-top: 8px;margin-bottom: 10px; background-color:  #052042; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer;">ä¿å­˜</button>
                    </section>
  
        
                <!-- Terminal -->
                <div class="text-right">
                    
                    <button style="padding: 10px; font-size: 16px; background: #001f26; color: #00ff88; border: none; border-radius: 36px; display: flex; align-items: center; justify-content: center; cursor: pointer; gap: 8px;" onclick="toggleTerminal()"><i class='bx bxs-terminal' style='color:#00ff88' ></i>æ˜¾ç¤º/éšè—ç»ˆç«¯</button>
                </div>
                <section class="card terminal" id="terminal" style="background: #001f26; color: #00ff88; border-radius: 12px; font-family: monospace; padding: 20px; font-size: 14px; max-height: 300px; overflow-y: auto; box-shadow: inset 0 0 8px #000;">
                    <div id="terminalOutput" style="white-space: pre-wrap; text-align: left;">
                > è¿ä½œè¿‡ç¨‹å°†å±•ç°åœ¨æ­¤... âœ“
            
                    </div>
                    <div style="display: flex; align-items: center; margin-top: 10px;">
                    <i class='bx bx-terminal' style="color: #00ff88; margin-right: 8px;"></i>
                    <input id="terminalInput" type="text" placeholder="Type a command... (e.g., help)" onkeydown="handleTerminalInput(event)" style="flex-grow: 1; background: #002b36; color: #00ff88; border: none; padding: 8px; border-radius: 6px; font-family: monospace; font-size: 14px; outline: none;">
                    </div>
                </section>
                </main>
                </div>
                <script src="{{ url_for('static', filename='scrip.js') }}"></script>
            </div>
            
        </div>



        <div id="case-history" class="content-section" style="display: none;">
            <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
            <div class="head-title">
                <div class="left">
                    <h1>å†å²è®°å½•</h1>
                    
                </div>
                
            </div>
            <div class="table-data">
            <div class="todo">
                <div class="head">
                <h3>ç—…ä¾‹ä¿¡æ¯ä¸ç»“æœæŠ¥å‘Š</h3>
                <i class='bx bx-refresh icon'></i>
                </div>
                <ul class="todo-list" id="historyList">
                <!-- åŠ¨æ€æ’å…¥è®°å½• -->
                </ul>
            </div>
            </div>

           
        </div>
            

			
		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->
	
    <script src="{{ url_for('static', filename='home.js') }}"></script>
</body>
</html>